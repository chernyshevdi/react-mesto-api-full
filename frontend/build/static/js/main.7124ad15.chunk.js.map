{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","userContext","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","CardsContext","Main","cardsData","avatar","onEditAvatar","about","onEditProfile","onAddPlace","map","item","Footer","PopupWithForm","isOpen","onClose","method","onSubmit","title","children","buttonText","ImagePopup","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkFetch","body","JSON","stringify","nameCard","linkCard","cardId","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","closeAllPopups","getUserData","catch","err","console","log","getCards","Provider","deleteLike","state","c","addLike","newCard","deleteCard","filter","data","patchUserData","patchCard","patchAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7124ad15.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === userContext._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"element__delete_active\" : \"element__delete\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === userContext._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"element__like\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          aria-label=\"Удалить\"\n          onClick={handleDeleteClick}\n        ></button>\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__like-group\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nexport const CardsContext = React.createContext();\n","import React, { useEffect, useState } from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\n\nfunction Main(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  const cardsData = React.useContext(CardsContext);\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <div className=\"profile__overlay\">\n            <img\n              className=\"profile__image\"\n              src={userContext.avatar}\n              alt=\"Аватар профиля\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{userContext.name}</h1>\n            <p className=\"profile__description\">{userContext.about}</p>\n          </div>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            aria-label=\"Редактирование профиля\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавление фотографий\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cardsData.map((item) => (\n          <Card\n            onCardClick={props.onCardClick}\n            key={item._id}\n            card={item}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <form\n          className=\"popup__form\"\n          method=\"post\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          <h3 className=\"popup__name\">{props.title}</h3>\n          {props.children}\n          <button\n            className=\"popup__button\"\n            type=\"submit\"\n            aria-label=\"Да\"\n          >\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_picture ${\n        props.card && props.card.link.length > 0 ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__bigsize\">\n        <img\n          className=\"popup__image\"\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.name : \"\"}\n        />\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <p className=\"popup__imgName\">{props.card ? props.card.name : \"\"}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkFetch(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    //получаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  getCards() {\n    //получаем данные карточек\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchUserData(name, about) {\n    //передаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchCard(nameCard, linkCard) {\n    //передаем данные карточки созданные пользователем\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: nameCard,\n        link: linkCard,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    //удаляем карточку пользователя\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  addLike(cardId) {\n    //передаем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    //удаляем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchAvatar(avatar) {\n    //передаем данные об аватаре\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://nomoreparties.co/v1/cohort-28\",\n  headers: {\n    authorization: \"37a57185-a3c1-401e-aba8-ce2242497099\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport { api };\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const userContext = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(userContext.name);\n    setDescription(userContext.about);\n  }, [userContext, props.isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_profile\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__name\"\n        name=\"profile_name\"\n        placeholder=\"Имя\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__name-error popup__input-error\"></span>\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__description\"\n        name=\"profile_description\"\n        placeholder=\"Вид деятельности\"\n        required\n        onChange={handleChangeDescription}\n        value={description || \"\"}\n      />\n      <span className=\"popup__description-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар?\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__avatar\"\n        name=\"avatarUrl\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error popup__avatar-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_card-add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__location\"\n        name=\"addFormName\"\n        placeholder=\"Название\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__input-error popup__location-error\"></span>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__link\"\n        name=\"addFormUrl\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChangeLink}\n        value={link || \"\"}\n      />\n      <span className=\"popup__input-error popup__link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    !isLiked\n      ? api\n          .addLike(card._id)\n          .then((newCard) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? newCard : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      : api\n          .deleteLike(card._id)\n          .then((res) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? res : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .patchUserData(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .patchAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateCard(data) {\n    api\n      .patchCard(data.name, data.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n\n        <CardsContext.Provider value={cards}>\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleUpdateCard}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        </CardsContext.Provider>\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}