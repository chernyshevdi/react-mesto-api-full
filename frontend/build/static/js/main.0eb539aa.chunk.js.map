{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthPage.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/Union.png","images/UnionError.png","components/ProtectedRoute.js","utils/AuthApi.js","components/Preloader.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","onVisible","email","to","onClick","onClose","CurrentUserContext","React","createContext","Card","CardsContext","Main","userContext","useContext","cardsData","console","log","avatar","user","src","alt","onEditAvatar","name","about","type","onEditProfile","onAddPlace","Footer","ImagePopup","card","link","length","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkFetch","method","body","JSON","stringify","nameCard","linkCard","cardId","authorization","localStorage","getItem","PopupWithForm","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","data","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","AuthPage","headerButton","emailChange","valueEmail","passChange","valuePass","submitButton","Login","pass","setPassword","setEmail","onUpdate","password","Register","InfoTooltip","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkFetch","Preloader","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","headerEmail","setHeaderEmail","currentUser","setCurrentUser","cards","setCards","navigate","useNavigate","setLoggedIn","popup","setPopup","popupOpen","setPopupOpen","closeAllPopups","token","catch","err","getUserData","getCards","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","undefined","element","path","onCardClick","onCardLike","likes","some","i","_id","deleteLike","state","map","c","addLike","newCard","onCardDelete","deleteCard","filter","patchUserData","patchCard","patchAvatar","exact","handleUpdateLogin","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0eb539aa.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      <div className={`${props.onVisible ? \"header__account_active\" : \"header__account\"}`}>\n        <p className=\"header__email\">{props.email}</p>\n        <Link to=\"/sign-in\" className=\"header__button\" onClick={props.onClose}>Выйти</Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === userContext._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"element__delete_active\" : \"element__delete\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === userContext._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"element__like\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          aria-label=\"Удалить\"\n          onClick={handleDeleteClick}\n        ></button>\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__like-group\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nexport const CardsContext = React.createContext();\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\n\nfunction Main(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  const cardsData = React.useContext(CardsContext);\n  console.log(userContext)\n  console.log(cardsData)\n  console.log(userContext.avatar)\n  console.log(userContext.user)\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <div className=\"profile__overlay\">\n            <img\n              className=\"profile__image\"\n              src={userContext.user.avatar}\n              alt=\"Аватар профиля\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{userContext.user.name}</h1>\n            <p className=\"profile__description\">{userContext.user.about}</p>\n          </div>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            aria-label=\"Редактирование профиля\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавление фотографий\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n/*\n{cardsData.map((item) => (\n          <Card\n            onCardClick={props.onCardClick}\n            key={item._id}\n            card={item}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n*/\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_picture ${\n        props.card && props.card.link.length > 0 ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__bigsize\">\n        <img\n          className=\"popup__image\"\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.name : \"\"}\n        />\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <p className=\"popup__imgName\">{props.card ? props.card.name : \"\"}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkFetch(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    //получаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  getCards() {\n    //получаем данные карточек\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchUserData(name, about) {\n    //передаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchCard(nameCard, linkCard) {\n    //передаем данные карточки созданные пользователем\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: nameCard,\n        link: linkCard,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    //удаляем карточку пользователя\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  addLike(cardId) {\n    //передаем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    //удаляем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchAvatar(avatar) {\n    //передаем данные об аватаре\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.chernyshevdi.nomoredomains.rocks\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: localStorage.getItem(\"token\"),\n  },\n});\n\nexport { api };\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <form\n          className=\"popup__form\"\n          method=\"post\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          <h3 className=\"popup__name\">{props.title}</h3>\n          {props.children}\n          <button\n            className=\"popup__button\"\n            type=\"submit\"\n            aria-label=\"Да\"\n          >\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const userContext = React.useContext(CurrentUserContext.data[0]);\n\n  useEffect(() => {\n    setName(userContext.name);\n    setDescription(userContext.about);\n  }, [userContext, props.isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_profile\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__name\"\n        name=\"profile_name\"\n        placeholder=\"Имя\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__name-error popup__input-error\"></span>\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__description\"\n        name=\"profile_description\"\n        placeholder=\"Вид деятельности\"\n        required\n        onChange={handleChangeDescription}\n        value={description || \"\"}\n      />\n      <span className=\"popup__description-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар?\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__avatar\"\n        name=\"avatarUrl\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error popup__avatar-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n},[props.isOpen]);\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_card-add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__location\"\n        name=\"addFormName\"\n        placeholder=\"Название\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__input-error popup__location-error\"></span>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__link\"\n        name=\"addFormUrl\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChangeLink}\n        value={link || \"\"}\n      />\n      <span className=\"popup__input-error popup__link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction AuthPage(props) {\n  return (\n    <div className=\"loginPage\">\n      <Link to={props.link} className=\"loginPage__headerButton\">\n        {props.headerButton}\n      </Link>\n      <form className=\"loginPage__form\" onSubmit={props.onSubmit}>\n        <h2 className=\"loginPage__title\">{props.name}</h2>\n        <input\n          className=\"loginPage__input\"\n          placeholder=\"Email\"\n          onChange={props.emailChange}\n          value={props.valueEmail || \"\"}\n        ></input>\n        <input\n          className=\"loginPage__input\"\n          placeholder=\"Пароль\"\n          onChange={props.passChange}\n          value={props.valuePass || \"\"}\n        ></input>\n        <button className=\"loginPage__submitButton\">\n          {props.submitButton}\n        </button>\n      </form>\n      {props.children}\n    </div>\n  );\n}\n\nexport default AuthPage;\n","import React from \"react\";\nimport AuthPage from \"./AuthPage\";\n\nfunction Login(props) {\n  const [pass, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeValue(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdate({\n      password: pass,\n      email: email\n    })\n  }\n\n  return (\n    <AuthPage\n      headerButton=\"Регистрация\"\n      name=\"Вход\"\n      submitButton=\"Войти\"\n      link={\"/sign-up\"}\n      passChange={handleChangePassword}\n      emailChange={handleChangeValue}\n      valuePass={pass}\n      valueEmail={email}\n      onSubmit={handleSubmit}\n    ></AuthPage>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport AuthPage from \"./AuthPage\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [pass, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeValue(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdate({\n      password: pass,\n      email: email\n    })\n  }\n\n  return (\n    <AuthPage\n      headerButton=\"Войти\"\n      name=\"Регистрация\"\n      submitButton=\"Зарегистрироваться\"\n      link={\"/sign-in\"}\n      passChange={handleChangePassword}\n      emailChange={handleChangeValue}\n      valuePass={pass}\n      valueEmail={email}\n      onSubmit={handleSubmit}\n    >\n      <Link to=\"/sign-in\" className=\"loginPage__subSubmitButton\">\n        Уже зарегистрированы? Войти\n      </Link>\n    </AuthPage>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport union from \"../images/Union.png\";\nimport unionError from \"../images/UnionError.png\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_opened\" : \"popup\"}`}>\n      <div className=\"popup__checkContainer\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__checkImage\"\n          src={props.onSubmit ? union : unionError}\n          alt={props.onSubmit ? \"Успешная регистрация\" : \"Неуспешная регистрация\"}\n        ></img>\n        <h3 className=\"popup__status\">\n          {props.onSubmit\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Route, Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://api.chernyshevdi.nomoredomains.rocks\";\n\nconst checkFetch = (res) => {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nexport const register = (password, email) => {\n  return fetch(BASE_URL + \"/signup\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  }).then(checkFetch);\n};\n\nexport const login = (password, email) => {\n  return fetch(BASE_URL + \"/signin\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then(checkFetch)\n    .then((data) => {\n      console.log(data)\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n      } else {\n        return;\n      }\n    })\n};\n\nexport const tokenCheck = () => {\n  return fetch(BASE_URL + \"/users/me\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      authorization: localStorage.getItem(\"token\"), //???\n    },\n  })\n    .then(checkFetch)\n    .then((res) => {\n      return res;\n    })\n};\n","import React from 'react';\n\nfunction Preloader() {\n  return (\n    <div className='preloader'>\n      <p className='preloader__title'>Загрузка</p>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport { Route, Routes, Navigate } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/AuthApi\";\nimport { useNavigate } from \"react-router-dom\";\nimport Preloader from \"./Preloader.jsx\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [headerEmail, setHeaderEmail] = useState(\"\"); //блок кнопки и емейла в хедере\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState();\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [popup, setPopup] = React.useState(null);\n  const [popupOpen, setPopupOpen] = React.useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .tokenCheck(token)\n        .then((res) => {\n          setHeaderEmail(res.data.email);\n          setLoggedIn(true);\n          navigate(\"/page\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      api.getUserData()\n      api.getCards()\n    } else {\n      setLoggedIn(false);\n    }\n  },[localStorage.getItem('token'), navigate]);\n\n  function signOut() {\n    localStorage.removeItem(\"token\");\n    navigate(\"/login\");\n  }\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    !isLiked\n      ? api\n          .addLike(card._id)\n          .then((newCard) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? newCard : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      : api\n          .deleteLike(card._id)\n          .then((res) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? res : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n\n    return () => document.removeEventListener('keydown', closeByEscape)\n}, [])\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .patchUserData(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .patchAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateCard(data) {\n    api\n      .patchCard(data.name, data.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateLogin() {\n    setLoggedIn(true);\n  }\n\n  function closePopup() {\n    setPopupOpen(false);\n  }\n\n  function handlePopup() {\n    setPopup(true);\n  }\n\n  function handleRegister(data) {\n    auth\n    .register(data.password, data.email)\n    .then(() => {\n      handlePopup();\n      setPopupOpen(true);\n    })\n    .catch(() => {\n      setPopup(false);\n      setPopupOpen(true);\n    });\n  }\n\n  function handleLogin(data) {\n    auth\n      .login(data.password, data.email)\n      .then(() => {\n          navigate(\"/page\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header email={headerEmail} onVisible={loggedIn} onClose={signOut} />\n        <CardsContext.Provider value={cards}>\n        {currentUser === undefined || cards === undefined ? (<Preloader/>) : (\n          <Routes>\n            <Route\n              element={\n                <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} />\n              }\n            />\n\n            <Route\n              path=\"/page\"\n              element={\n                <>\n                  <Main\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                  />\n\n                  <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                  />\n\n                  <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleUpdateCard}\n                  />\n\n                  <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                  />\n\n                  <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n\n                  <Footer />\n\n                </>\n              }\n            />\n\n            <Route\n              exact\n              path=\"/sign-in\"\n              element={<Login\n                handleUpdateLogin={handleUpdateLogin}\n                onUpdate={handleLogin}\n              />}\n            />\n            <Route exact path=\"/sign-up\" element={\n              <>\n              <Register onUpdate={handleRegister}/>\n              <InfoTooltip\n                isOpen={popupOpen}\n                onSubmit={popup}\n                onClose={closePopup}\n              />\n              </>\n            } />\n            <Route\n              exact\n              path=\"/\"\n              element={\n                loggedIn ? <Navigate to=\"/page\" /> : <Navigate to=\"/sign-in\" />\n              }\n            />\n          </Routes>)}\n        </CardsContext.Provider>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}