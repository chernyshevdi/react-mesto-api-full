{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthPage.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/Union.png","images/UnionError.png","components/ProtectedRoute.js","utils/AuthApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","onVisible","email","to","onClick","onClose","CurrentUserContext","React","createContext","Card","userContext","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onCardClick","type","onCardDelete","onCardLike","length","CardsContext","Main","cardsData","avatar","onEditAvatar","about","onEditProfile","onAddPlace","map","item","Footer","ImagePopup","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkFetch","method","body","JSON","stringify","nameCard","linkCard","cardId","PopupWithForm","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","AuthPage","headerButton","emailChange","valueEmail","passChange","valuePass","submitButton","Login","pass","setPassword","setEmail","onUpdate","password","Register","InfoTooltip","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkFetch","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","headerEmail","setHeaderEmail","currentUser","setCurrentUser","cards","setCards","navigate","useNavigate","setLoggedIn","popup","setPopup","popupOpen","setPopupOpen","closeAllPopups","token","localStorage","getItem","Authorization","data","catch","err","console","log","getUserData","getCards","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","element","path","deleteLike","state","c","addLike","newCard","deleteCard","filter","patchUserData","patchCard","patchAvatar","exact","handleUpdateLogin","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f5ed45ec.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      <div className={`${props.onVisible ? \"header__account_active\" : \"header__account\"}`}>\n        <p className=\"header__email\">{props.email}</p>\n        <Link to=\"/sign-in\" className=\"header__button\" onClick={props.onClose}>Выйти</Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === userContext._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"element__delete_active\" : \"element__delete\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === userContext._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"element__like\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          aria-label=\"Удалить\"\n          onClick={handleDeleteClick}\n        ></button>\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__like-group\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nexport const CardsContext = React.createContext();\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\n\nfunction Main(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  const cardsData = React.useContext(CardsContext);\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <div className=\"profile__overlay\">\n            <img\n              className=\"profile__image\"\n              src={userContext.avatar}\n              alt=\"Аватар профиля\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{userContext.name}</h1>\n            <p className=\"profile__description\">{userContext.about}</p>\n          </div>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            aria-label=\"Редактирование профиля\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавление фотографий\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cardsData.map((item) => (\n          <Card\n            onCardClick={props.onCardClick}\n            key={item._id}\n            card={item}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_picture ${\n        props.card && props.card.link.length > 0 ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__bigsize\">\n        <img\n          className=\"popup__image\"\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.name : \"\"}\n        />\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <p className=\"popup__imgName\">{props.card ? props.card.name : \"\"}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkFetch(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    //получаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  getCards() {\n    //получаем данные карточек\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchUserData(name, about) {\n    //передаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchCard(nameCard, linkCard) {\n    //передаем данные карточки созданные пользователем\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: nameCard,\n        link: linkCard,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    //удаляем карточку пользователя\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  addLike(cardId) {\n    //передаем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    //удаляем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchAvatar(avatar) {\n    //передаем данные об аватаре\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"http://api.chernyshevdi.nomoredomains.rocks\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n});\n\nexport { api };\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <form\n          className=\"popup__form\"\n          method=\"post\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          <h3 className=\"popup__name\">{props.title}</h3>\n          {props.children}\n          <button\n            className=\"popup__button\"\n            type=\"submit\"\n            aria-label=\"Да\"\n          >\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const userContext = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(userContext.name);\n    setDescription(userContext.about);\n  }, [userContext, props.isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_profile\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__name\"\n        name=\"profile_name\"\n        placeholder=\"Имя\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__name-error popup__input-error\"></span>\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__description\"\n        name=\"profile_description\"\n        placeholder=\"Вид деятельности\"\n        required\n        onChange={handleChangeDescription}\n        value={description || \"\"}\n      />\n      <span className=\"popup__description-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар?\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__avatar\"\n        name=\"avatarUrl\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error popup__avatar-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n},[props.isOpen]);\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_card-add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__location\"\n        name=\"addFormName\"\n        placeholder=\"Название\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__input-error popup__location-error\"></span>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__link\"\n        name=\"addFormUrl\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChangeLink}\n        value={link || \"\"}\n      />\n      <span className=\"popup__input-error popup__link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction AuthPage(props) {\n  return (\n    <div className=\"loginPage\">\n      <Link to={props.link} className=\"loginPage__headerButton\">\n        {props.headerButton}\n      </Link>\n      <form className=\"loginPage__form\" onSubmit={props.onSubmit}>\n        <h2 className=\"loginPage__title\">{props.name}</h2>\n        <input\n          className=\"loginPage__input\"\n          placeholder=\"Email\"\n          onChange={props.emailChange}\n          value={props.valueEmail || \"\"}\n        ></input>\n        <input\n          className=\"loginPage__input\"\n          placeholder=\"Пароль\"\n          onChange={props.passChange}\n          value={props.valuePass || \"\"}\n        ></input>\n        <button className=\"loginPage__submitButton\">\n          {props.submitButton}\n        </button>\n      </form>\n      {props.children}\n    </div>\n  );\n}\n\nexport default AuthPage;\n","import React from \"react\";\nimport AuthPage from \"./AuthPage\";\n\nfunction Login(props) {\n  const [pass, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeValue(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdate({\n      password: pass,\n      email: email\n    })\n  }\n\n  return (\n    <AuthPage\n      headerButton=\"Регистрация\"\n      name=\"Вход\"\n      submitButton=\"Войти\"\n      link={\"/sign-up\"}\n      passChange={handleChangePassword}\n      emailChange={handleChangeValue}\n      valuePass={pass}\n      valueEmail={email}\n      onSubmit={handleSubmit}\n    ></AuthPage>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport AuthPage from \"./AuthPage\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [pass, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeValue(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdate({\n      password: pass,\n      email: email\n    })\n  }\n\n  return (\n    <AuthPage\n      headerButton=\"Войти\"\n      name=\"Регистрация\"\n      submitButton=\"Зарегистрироваться\"\n      link={\"/sign-in\"}\n      passChange={handleChangePassword}\n      emailChange={handleChangeValue}\n      valuePass={pass}\n      valueEmail={email}\n      onSubmit={handleSubmit}\n    >\n      <Link to=\"/sign-in\" className=\"loginPage__subSubmitButton\">\n        Уже зарегистрированы? Войти\n      </Link>\n    </AuthPage>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport union from \"../images/Union.png\";\nimport unionError from \"../images/UnionError.png\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_opened\" : \"popup\"}`}>\n      <div className=\"popup__checkContainer\">\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрытие формы\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__checkImage\"\n          src={props.onSubmit ? union : unionError}\n          alt={props.onSubmit ? \"Успешная регистрация\" : \"Неуспешная регистрация\"}\n        ></img>\n        <h3 className=\"popup__status\">\n          {props.onSubmit\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Route, Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"http://api.chernyshevdi.nomoredomains.rocks\";\n\nconst checkFetch = (res) => {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nexport const register = (password, email) => {\n  return fetch(BASE_URL + \"/signup\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  }).then(checkFetch);\n};\n\nexport const login = (password, email) => {\n  return fetch(BASE_URL + \"/signin\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then(checkFetch)\n    .then((data) => {\n      console.log(data)\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n      } else {\n        return;\n      }\n    })\n};\n\nexport const tokenCheck = () => {\n  return fetch(BASE_URL + \"/users/me\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: localStorage.getItem(\"token\"),\n    },\n  })\n    .then(checkFetch)\n    .then((res) => {\n      return res;\n    })\n};\n","import Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport { Route, Routes, Navigate } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/AuthApi\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [headerEmail, setHeaderEmail] = useState(\"\"); //блок кнопки и емейла в хедере\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [popup, setPopup] = React.useState(null);\n  const [popupOpen, setPopupOpen] = React.useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .tokenCheck(token)\n        .then((res) => {\n          setHeaderEmail(res.data.email);\n          setLoggedIn(true);\n          navigate(\"/page\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  },[localStorage.getItem('token'), navigate]);\n\n  function signOut() {\n    localStorage.removeItem(\"token\");\n    navigate(\"/login\");\n  }\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    !isLiked\n      ? api\n          .addLike(card._id)\n          .then((newCard) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? newCard : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      : api\n          .deleteLike(card._id)\n          .then((res) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? res : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n\n    return () => document.removeEventListener('keydown', closeByEscape)\n}, [])\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .patchUserData(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .patchAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateCard(data) {\n    api\n      .patchCard(data.name, data.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateLogin() {\n    setLoggedIn(true);\n  }\n\n  function closePopup() {\n    setPopupOpen(false);\n  }\n\n  function handlePopup() {\n    setPopup(true);\n  }\n\n  function handleRegister(data) {\n    auth\n    .register(data.password, data.email)\n    .then(() => {\n      handlePopup();\n      setPopupOpen(true);\n    })\n    .catch(() => {\n      setPopup(false);\n      setPopupOpen(true);\n    });\n  }\n\n  function handleLogin(data) {\n    auth\n      .login(data.password, data.email)\n      .then(() => {\n          navigate(\"/page\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header email={headerEmail} onVisible={loggedIn} onClose={signOut} />\n        <CardsContext.Provider value={cards}>\n          <Routes>\n            <Route\n              element={\n                <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} />\n              }\n            />\n\n            <Route\n              path=\"/page\"\n              element={\n                <>\n                  <Main\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                  />\n\n                  <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                  />\n\n                  <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleUpdateCard}\n                  />\n\n                  <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                  />\n\n                  <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n\n                  <Footer />\n\n                </>\n              }\n            />\n\n            <Route\n              exact\n              path=\"/sign-in\"\n              element={<Login\n                handleUpdateLogin={handleUpdateLogin}\n                onUpdate={handleLogin}\n              />}\n            />\n            <Route exact path=\"/sign-up\" element={\n              <>\n              <Register onUpdate={handleRegister}/>\n              <InfoTooltip\n                isOpen={popupOpen}\n                onSubmit={popup}\n                onClose={closePopup}\n              />\n              </>\n            } />\n            <Route\n              exact\n              path=\"/\"\n              element={\n                loggedIn ? <Navigate to=\"/page\" /> : <Navigate to=\"/sign-in\" />\n              }\n            />\n          </Routes>\n        </CardsContext.Provider>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}